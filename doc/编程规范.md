# 编码规范

## 头文件

### 源码后缀名

使用`.cc`作为实现文件的后缀名，头文件使用`.h`作为后缀名。
通常一个点`.cc`文件对应一个`.h`文件。只有单元测试代码和只包含`main()`函数的文件可以是独立的`.cc`文件

### 头文件保护

所有头文件都应该使用`#define`来防止头文件被多重包含, 命名格式当是: `_<PROJECT>_<MOUDLE>_<FILE>_H_`

### 前置声明

* 尽量避免前置声明那些定义在其他项目中的实体.
* 函数：总是使用 #include.
* 类模板：优先使用 #include.

### 内联函数

* 一个较为合理的经验准则是, 不要内联超过**10**行的函数. 
* 不允许将谨待析构函数定义为内联函数。析构函数往往比其表面看起来要更长, 因为有隐含的成员和基类析构函数被调用!
* 内联函数中尽量不要包含**循环**或**switch**语句(除非在大多数情况下, 这些循环或 switch 语句从不被执行).
* 递归函数不应该声明成内联函数.

### `#include`的路径及顺序

* 头文件的包含顺序应该是：
  1. `.cc`文件对应的`.h`文件
  2. C 系统文件
  3. C++ 系统文件
  4. 其他库的 .h 文件
  5. 本项目内 .h 文件

* 在 #include 中插入空行以分割相关头文件, C 库, C++ 库, 其他库的 .h 和本项目内的 .h 是个好习惯。
* C系统头文件要使用C++版的头文件名
* 头文件路径中不要使用`.`或`..`，应使用以工程目录作为起始目录的相对路径

## 命名空间

* 禁止使用内联命名空间
* 不允许在命名空间`std`中声明任何东西
* 推荐、鼓励在`.cc`中对于不需要在其他地方引用的标识符使用内部链接性声明，但是不要在`.h`中使用。
* 使用静态成员函数或命名空间内的非成员函数, 尽量不要用裸的全局函数. 将一系列函数直接置于命名空间中，不要用类的静态方法模拟出命名空间的效果，类的静态方法应当和类的实例或静态数据紧密相关.
* 将函数变量尽可能置于最小作用域内, 并在变量声明时进行初始化.
